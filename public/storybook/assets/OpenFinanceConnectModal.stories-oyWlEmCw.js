import{j as e}from"./jsx-runtime-Eifrrug6.js";import{r as d}from"./iframe-CGSukN2e.js";import{n as r}from"./image-DvEAMrFU.js";import{B as s}from"./Button-Du-WEOmL.js";import"./preload-helper-PPVm8Dsz.js";function p({isOpen:a,onClose:n,onStart:t,onFinish:h,onAdd:m}){const[u,l]=d.useState(0);if(d.useEffect(()=>{a&&l(0)},[a]),!a)return null;const f=()=>{l(1),t()},g=()=>{l(2)},v=()=>{h(),n()},j=()=>{l(0),m?.()};return e.jsx("div",{className:"fixed inset-0 z-50 flex cursor-pointer items-center justify-center bg-black/60 p-4",onClick:n,children:e.jsxs("div",{role:"dialog","aria-modal":"true",dir:"rtl",className:"relative w-full max-w-[390px] overflow-hidden rounded-[7px] bg-white shadow-[0px_0px_24px_0px_rgba(200,200,200,0.25)]",onClick:x=>x.stopPropagation(),children:[e.jsx("div",{className:"relative h-[48px] w-full shrink-0 overflow-hidden",children:e.jsx(r,{src:"/images/popspecialback.png",alt:"",fill:!0,className:"object-cover object-top",priority:!0,"aria-hidden":!0})}),e.jsx("div",{dir:"ltr",className:"relative overflow-hidden bg-[#f5f8fc]",children:e.jsxs("div",{className:"flex w-full flex-row transition-transform duration-300 ease-out",dir:"ltr",style:{width:"300%",transform:`translateX(${-u*100/3}%)`},children:[e.jsxs("div",{dir:"rtl",className:"flex w-1/3 shrink-0 flex-col gap-4 overflow-y-auto px-4 pb-4 pt-4",children:[e.jsxs("div",{className:"flex flex-col gap-1 text-center",children:[e.jsx("h3",{className:"text-[24px] font-bold leading-7 text-[var(--color-primary)]",children:"אישור הלוואה מהיר"}),e.jsx("p",{className:"text-[17px] font-light leading-[23px] text-[var(--color-primary)]",children:"Open Finance מבקשת להתחבר אל חשבונך"})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-start gap-[9px]",children:[e.jsx("div",{className:"size-[42px] shrink-0",children:e.jsx(r,{src:"/images/card.png",alt:"",width:42,height:42,className:"size-full object-contain","aria-hidden":!0})}),e.jsxs("div",{className:"min-w-0 flex-1 text-right",children:[e.jsx("p",{className:"text-[15px] font-bold leading-5 tracking-[0.3px] text-[var(--color-primary)]",children:"התחבר ללא מאמץ!"}),e.jsx("p",{className:"text-[15px] font-light leading-5 tracking-[0.3px] text-[var(--color-primary)]",children:"Open-Finance.ai"}),e.jsx("p",{className:"text-[15px] font-light leading-5 tracking-[0.3px] text-[var(--color-primary)]",children:"מאפשרת לך לחבר את החשבונות הפיננסים שלך בדרך מאובטחת"})]})]}),e.jsxs("div",{className:"flex items-start gap-[9px]",children:[e.jsx("div",{className:"size-[42px] shrink-0",children:e.jsx(r,{src:"/images/eye.png",alt:"",width:42,height:42,className:"size-full object-contain","aria-hidden":!0})}),e.jsxs("div",{className:"min-w-0 flex-1 text-right",children:[e.jsx("p",{className:"text-[15px] font-bold leading-5 tracking-[0.3px] text-[var(--color-primary)]",children:"המידע שלך שייך רק לך!"}),e.jsx("p",{className:"text-[15px] font-light leading-5 tracking-[0.3px] text-[var(--color-primary)]",children:"Open-Finance.ai"}),e.jsx("p",{className:"text-[15px] font-light leading-5 tracking-[0.3px] text-[var(--color-primary)]",children:"לא מוכרת מידע אישי, ותעשה במידע שימוש רק ברשותך"})]})]})]}),e.jsxs("p",{className:"text-center text-[15px] font-light leading-5 tracking-[0.3px] text-[var(--color-primary)]",children:["בלחיצה על התחל אתם מסכימים",e.jsx("button",{type:"button",className:"text-[#3369FF] underline hover:opacity-80",onClick:x=>x.stopPropagation(),children:"למדיניות הפרטיות ותנאי השימוש"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(s,{variant:"primary",onClick:f,className:"h-[46px] w-[256px] px-4 py-3 text-[17px]",children:"התחל"})}),e.jsx("div",{className:"relative mx-auto mt-2 h-[150px] w-[150px]",children:e.jsx(r,{src:"/images/bankimage.png",alt:"",width:150,height:150,className:"h-full w-auto object-contain","aria-hidden":!0})})]}),e.jsxs("div",{dir:"rtl",className:"flex w-1/3 shrink-0 flex-col gap-4 overflow-y-auto px-6 pb-4 pt-4",children:[e.jsxs("div",{className:"flex flex-col gap-1 text-center",children:[e.jsx("h3",{className:"text-[24px] font-bold leading-7 text-[var(--color-primary)]",children:"לפני שממשיכים"}),e.jsx("p",{className:"text-[17px] font-light leading-[23px] text-[var(--color-primary)]",children:"הסבר קצר"})]}),e.jsxs("div",{className:"flex flex-col gap-3 text-right",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[15px] font-bold text-[var(--color-primary)]",children:"1. עוברים אתר"}),e.jsx("p",{className:"text-[15px] font-light leading-5 text-[var(--color-primary)]",children:"במידה וכרגע אתה מחובר מהמחשב, תועבר בשלב הבא לאתר של ספק המידע שבחרת. במידה ואתה מהנייד והאפליקציה מותקנת אצלך, תועבר לאפליקציה. אם לא, לאתר"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[15px] font-bold text-[var(--color-primary)]",children:"2. התחברות לחשבון"}),e.jsx("p",{className:"text-[15px] font-light leading-5 text-[var(--color-primary)]",children:"אם אינך מצליח להתחבר לחשבונך, אנא נסה לצאת מהאפליקציה ולהכנס אליה עצמאית לפני שאתה מתקדם משלב זה"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[15px] font-bold text-[var(--color-primary)]",children:"3. וודא הרשאות"}),e.jsx("p",{className:"text-[15px] font-light leading-5 text-[var(--color-primary)]",children:"אם בסוף ההתחברות קיבלת שגיאה כללית בבנק שלא מאפשרת לך להמשיך, אנא וודא באפליקציה או דרך בנקאי שקיימת לך הרשאה לביצוע פעולות בדיגיטל"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(s,{variant:"primary",onClick:g,children:"הבנתי! בואו נמשיך"})}),e.jsx("div",{className:"relative mx-auto mt-2 h-[150px] w-[150px]",children:e.jsx(r,{src:"/images/holdcup.png",alt:"",width:150,height:150,className:"h-full w-auto object-contain","aria-hidden":!0})})]}),e.jsxs("div",{dir:"rtl",className:"flex w-1/3 shrink-0 flex-col gap-4 overflow-y-auto px-6 pb-4 pt-4",children:[e.jsxs("div",{className:"relative mx-auto flex h-[150px] w-[150px] min-w-[150px] items-center justify-center overflow-visible",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-90",children:e.jsx(r,{src:"/images/open-finance/Confetti.gif",alt:"",width:150,height:150,className:"object-contain",unoptimized:!0,"aria-hidden":!0})}),e.jsx("div",{className:"relative z-10",children:e.jsx(r,{src:"/images/calc.png",alt:"",width:60,height:60,className:"object-contain","aria-hidden":!0})})]}),e.jsx("div",{className:"flex flex-col gap-2 text-center",children:e.jsx("h3",{className:"text-[24px] font-bold leading-7 text-[var(--color-primary)]",children:"החשבון חובר בהצלחה"})}),e.jsxs("div",{className:"flex flex-col gap-2 text-center text-[15px] font-light leading-5 text-[var(--color-primary)]",children:[e.jsx("p",{children:"החשבון חובר בהצלחה."}),e.jsx("p",{children:"לחיבור חשבונות נוספים יש ללחוץ ״הוסף״"}),e.jsx("p",{className:"pt-2",children:"לסיום יש ללחוץ ״סיום״"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m&&e.jsx(s,{variant:"secondary",onClick:j,className:"w-full max-w-[256px] bg-transparent",children:"הוסף"}),e.jsx(s,{variant:"primary",onClick:v,children:"סיום"})]})]})]})}),e.jsx("button",{type:"button",onClick:n,className:"absolute end-4 top-4 z-10 flex size-8 shrink-0 items-center justify-center rounded hover:bg-white/80","aria-label":"סגור",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"#020140",strokeWidth:"2",strokeLinecap:"round"})})})]})})}p.__docgenInfo={description:"",methods:[],displayName:"OpenFinanceConnectModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onStart:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onFinish:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when user finishes the full flow (clicks סיום)"},onAdd:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:'When true, shows "הוסף" button on success screen to add another account'}}};const O={title:"Design System/OpenFinanceConnectModal",component:p,parameters:{layout:"centered",docs:{description:{component:"פופאפ מאוחד עם מעבר סליידר: שלב 1 (אישור הלוואה) → שלב 2 (לפני שממשיכים) → שלב 3 (החשבון חובר בהצלחה). התוכן מתחלף בחלקו הפנימי ללא סגירה ופתיחה מחדש."}}},tags:["autodocs"],argTypes:{isOpen:{control:"boolean"},onClose:{action:"closed"},onStart:{action:"started"},onFinish:{action:"finished"},onAdd:{action:"add"}}},o={args:{isOpen:!0,onClose:()=>{},onStart:()=>{},onFinish:()=>{},onAdd:()=>{}},parameters:{docs:{description:{story:"מצב פתוח – סליידר במסך ראשון (אישור הלוואה מהיר)."}}}},c={render:function(){const[n,t]=d.useState(!1);return e.jsxs("div",{dir:"rtl",className:"flex flex-col items-center gap-4",children:[e.jsx(s,{variant:"primary",onClick:()=>t(!0),children:"פתח פופאפ בנקאות פתוחה"}),e.jsx(p,{isOpen:n,onClose:()=>t(!1),onStart:()=>{},onFinish:()=>t(!1),onAdd:()=>{}})]})},parameters:{docs:{description:{story:"לחיצה על הכפתור פותחת את הפופאפ. המעבר בין השלבים נעשה כמו סליידר בתוך הפופאפ."}}}},i={render:function(){const[n,t]=d.useState(!1);return e.jsxs("div",{dir:"rtl",className:"flex flex-col items-center gap-4",children:[e.jsx(s,{variant:"primary",onClick:()=>t(!0),children:"התחל זרימה"}),e.jsx(p,{isOpen:n,onClose:()=>t(!1),onStart:()=>{},onFinish:()=>{alert("סיום!"),t(!1)},onAdd:()=>{alert("הוסף חשבון נוסף – חוזר למסך ראשון")}})]})},parameters:{docs:{description:{story:"זרימה מלאה בסליידר אחד: התחל → הבנתי! → סיום. כפתור הוסף מחזיר למסך הראשון."}}}};o.parameters={...o.parameters,docs:{...o.parameters?.docs,source:{originalSource:`{
  args: {
    isOpen: true,
    onClose: () => {},
    onStart: () => {},
    onFinish: () => {},
    onAdd: () => {}
  },
  parameters: {
    docs: {
      description: {
        story: "מצב פתוח – סליידר במסך ראשון (אישור הלוואה מהיר)."
      }
    }
  }
}`,...o.parameters?.docs?.source}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  render: function WithTrigger() {
    const [isOpen, setIsOpen] = useState(false);
    return <div dir="rtl" className="flex flex-col items-center gap-4">
        <Button variant="primary" onClick={() => setIsOpen(true)}>
          פתח פופאפ בנקאות פתוחה
        </Button>
        <OpenFinanceConnectModal isOpen={isOpen} onClose={() => setIsOpen(false)} onStart={() => {}} onFinish={() => setIsOpen(false)} onAdd={() => {}} />
      </div>;
  },
  parameters: {
    docs: {
      description: {
        story: "לחיצה על הכפתור פותחת את הפופאפ. המעבר בין השלבים נעשה כמו סליידר בתוך הפופאפ."
      }
    }
  }
}`,...c.parameters?.docs?.source}}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`{
  render: function FullFlow() {
    const [isOpen, setIsOpen] = useState(false);
    return <div dir="rtl" className="flex flex-col items-center gap-4">
        <Button variant="primary" onClick={() => setIsOpen(true)}>
          התחל זרימה
        </Button>
        <OpenFinanceConnectModal isOpen={isOpen} onClose={() => setIsOpen(false)} onStart={() => {}} onFinish={() => {
        alert("סיום!");
        setIsOpen(false);
      }} onAdd={() => {
        alert("הוסף חשבון נוסף – חוזר למסך ראשון");
      }} />
      </div>;
  },
  parameters: {
    docs: {
      description: {
        story: "זרימה מלאה בסליידר אחד: התחל → הבנתי! → סיום. כפתור הוסף מחזיר למסך הראשון."
      }
    }
  }
}`,...i.parameters?.docs?.source},description:{story:"זרימת 3 השלבים – סליידר בתוך פופאפ אחד",...i.parameters?.docs?.description}}};const F=["Default","WithTrigger","FullFlow"];export{o as Default,i as FullFlow,c as WithTrigger,F as __namedExportsOrder,O as default};
