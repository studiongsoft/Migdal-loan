import{j as e}from"./jsx-runtime-DMt_yit2.js";import{r as i}from"./iframe-Ci18ShzC.js";import{C as M}from"./Checkbox-ghvtSkW-.js";import{F as T}from"./FormField-CD_i6fgq.js";import{I as m}from"./InfoTooltip-C9zkFLtA.js";import{R as x}from"./Radio-CILNj6qV.js";import"./preload-helper-PPVm8Dsz.js";import"./image-BC_zGh6x.js";const E=[{value:"fixed",label:"קבועה 3.1%",tooltip:{title:"ריבית קבועה",body:"ריבית קבועה מבטיחה תשלום חודשי צפוי לאורך כל תקופת ההלוואה, ללא שינויים."}},{value:"variable",label:"משתנה פריים- 3.3%",tooltip:{title:"ריבית משתנה פריים",body:"ריבית משתנה לפי פריים עשויה להיות נמוכה יותר, אך עלולה להשתנות לאורך התקופה בהתאם לשינויי ריבית."}}],_=[{value:"spitzer",label:"שפיצר"},{value:"balloon",label:"בלון"},{value:"partial_balloon",label:"בלון חלקי"}],I=[1,2,3,4,5,6,12],P={liquid:{title:"כספים נזילים",body:"אלו כספים שניתן לגשת אליהם במהירות ובקלות, כמו מזומן או כסף בחשבון בנק."},illiquid:{title:"כספים לא נזילים",body:"אלו כספים שאינם ניתנים למשיכה מיידית, כמו כספים בקופות גמל או קרנות השתלמות."}},r={interest:{title:"ריבית",body:"ריבית קבועה מבטיחה תשלום חודשי צפוי לאורך כל תקופת ההלוואה. ריבית משתנה עשויה להשתנות לפי פריים."},loanType:{title:"סוג הלוואה",body:"שפיצר: החזרים שווים לאורך התקופה. בלון: תשלום עיקרי בסוף. בלון חלקי: שילוב של השניים."},grace:{title:"גרייס",body:"תקופת גרייס מאפשרת להתחיל בהחזרים רק לאחר מספר חודשים, כדי להתארגן כלכלית."}};function y({product:a,selected:n,onToggle:d,condition:o,onConditionChange:w,estimatedMonthly:c=0,loanMonths:h}){const s=t=>new Intl.NumberFormat("he-IL").format(t)+" ₪",N=P[a.fundStatus],[g,v]=i.useState(!1),C=i.useRef(n);i.useEffect(()=>{C.current&&!n&&v(!0),C.current=n},[n]),i.useEffect(()=>{if(n)v(!1);else if(g){const t=setTimeout(()=>v(!1),250);return()=>clearTimeout(t)}},[n,g]);const S=n||g,l=t=>{w({...o,...t})};return e.jsxs("div",{dir:"rtl",className:"flex w-full min-w-0 flex-col gap-4 rounded-[12px] border border-[#E1E9F3] bg-white p-6 shadow-[0px_0px_12px_0px_rgba(0,0,0,0.08)] md:min-w-[720px]",children:[e.jsxs("div",{className:"grid w-full grid-cols-1 gap-4 overflow-hidden md:grid-cols-[1fr_auto_auto_auto] md:gap-6",children:[e.jsxs("label",{className:"flex min-w-0 cursor-pointer items-start gap-3 overflow-hidden text-right",children:[e.jsx(M,{checked:n,onChange:d,size:20,className:"mt-1 shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsx("p",{className:"text-[14px] font-normal text-[#5E5D9A]",children:"מוצר"}),e.jsxs("p",{className:"break-words text-[16px] font-bold text-[var(--color-primary)]",children:[a.name," | ",a.fundId]})]})]}),e.jsxs("div",{className:"flex shrink-0 flex-col text-right",children:[e.jsx("p",{className:"text-[14px] font-normal text-[#5E5D9A]",children:"סטטוס הכספים"}),e.jsxs("div",{className:"flex items-center justify-start gap-2",children:[e.jsx("span",{className:`text-[16px] font-bold text-right ${a.fundStatus==="liquid"?"text-[var(--color-accent-blue)]":"text-[var(--color-primary)]"}`,children:a.fundStatus==="liquid"?"נזילים":"לא נזילים"}),e.jsx(m,{title:N.title,body:N.body})]})]}),e.jsxs("div",{className:"flex shrink-0 flex-col text-right",children:[e.jsx("p",{className:"whitespace-nowrap text-[14px] font-normal text-[#5E5D9A]",children:"סכום מקסימאלי למשיכה"}),e.jsx("p",{className:"text-[16px] font-bold text-[var(--color-primary)]",children:s(a.maxWithdrawal)})]}),e.jsxs("div",{className:"flex shrink-0 flex-col items-center justify-center rounded-[4px] bg-[#eaf1fa] px-4 py-3 text-center",children:[e.jsx("p",{className:"whitespace-nowrap text-[14px] font-normal text-[#5E5D9A]",children:"החזר חודשי משוער"}),e.jsx("p",{className:"text-[18px] font-bold text-[var(--color-primary)]",children:s(Math.round(c))})]})]}),e.jsx("div",{className:"flex min-w-0 flex-1 flex-col gap-4",children:S&&e.jsxs("div",{className:`mt-4 flex flex-col gap-6 pt-6 ${n?"animate-div-in":"animate-div-out"}`,children:[e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:flex-nowrap md:items-start md:gap-8",children:[e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx(T,{label:"סכום הלוואה",value:String(o.loanAmount||""),onChange:t=>l({loanAmount:Number(t)||0}),placeholder:`עד ${s(a.maxWithdrawal)}`,error:o.loanAmount>a.maxWithdrawal?`הסכום חורג מהסכום המקסימאלי למשיכה (${s(a.maxWithdrawal)})`:void 0})}),e.jsxs("div",{className:"min-w-[180px] flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("p",{className:"text-[14px] font-normal text-[#5E5D9A]",children:"ריבית"}),e.jsx(m,{title:r.interest.title,body:r.interest.body})]}),e.jsx("div",{className:"flex flex-col gap-[8px] md:flex-row md:flex-nowrap md:gap-[16px]",children:E.map(t=>e.jsx(x,{value:t.value,label:t.label,name:`interest-${a.id}`,checked:o.interestType===t.value,onChange:()=>l({interestType:t.value}),variant:"minimal",tooltip:t.tooltip},t.value))})]})]}),e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:flex-nowrap md:items-start md:gap-8",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("p",{className:"text-[14px] font-normal text-[#5E5D9A]",children:"סוג הלוואה"}),e.jsx(m,{title:r.loanType.title,body:r.loanType.body})]}),e.jsx("div",{className:"flex flex-col gap-[8px] md:flex-row md:flex-nowrap md:gap-[16px]",children:_.map(t=>e.jsx(x,{value:t.value,label:t.label,name:`loanType-${a.id}`,checked:o.loanType===t.value,onChange:()=>l({loanType:t.value}),variant:"minimal"},t.value))})]}),e.jsxs("div",{className:"min-w-0 flex-1 flex flex-col gap-4",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("p",{className:"text-[14px] font-normal text-[#5E5D9A]",children:"גרייס"}),e.jsx(m,{title:r.grace.title,body:r.grace.body})]}),e.jsxs("div",{className:"flex flex-col gap-[8px] md:flex-row md:flex-nowrap md:gap-[16px]",children:[e.jsx(x,{value:"yes",label:"כן",name:`grace-${a.id}`,checked:o.hasGrace,onChange:()=>l({hasGrace:!0}),variant:"minimal"}),e.jsx(x,{value:"no",label:"ללא",name:`grace-${a.id}`,checked:!o.hasGrace,onChange:()=>l({hasGrace:!1}),variant:"minimal"})]}),o.hasGrace&&e.jsx(T,{label:"כמה חודשים של דחייה?",value:String(o.graceMonths),onChange:t=>l({graceMonths:Number(t)}),type:"dropdown",options:I.map(t=>({value:String(t),label:`${t} חודשים`})),placeholder:"בחר"})]})]})]})})]})}y.__docgenInfo={description:"",methods:[],displayName:"ProductDisplayCard",props:{product:{required:!0,tsType:{name:"ProductItem"},description:""},selected:{required:!0,tsType:{name:"boolean"},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},condition:{required:!0,tsType:{name:"ProductCondition"},description:""},onConditionChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(cond: ProductCondition) => void",signature:{arguments:[{type:{name:"ProductCondition"},name:"cond"}],return:{name:"void"}}},description:""},estimatedMonthly:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},loanMonths:{required:!0,tsType:{name:"number"},description:""}}};const R={title:"Design System/ProductDisplayCard",component:y,parameters:{layout:"centered"},tags:["autodocs"]},b={id:"1",name:"קרן השתלמות",fundId:"2143245453",fundStatus:"liquid",maxWithdrawal:7e4},j={productId:"1",loanAmount:1e4,interestType:"fixed",loanType:"spitzer",graceMonths:6,hasGrace:!1},p={args:{product:b,selected:!1,onToggle:()=>{},condition:j,onConditionChange:()=>{},estimatedMonthly:0,loanMonths:60}},u={args:{product:b,selected:!0,onToggle:()=>{},condition:j,onConditionChange:()=>{},estimatedMonthly:2221,loanMonths:60}},f={render:()=>{const[a,n]=i.useState(!1),[d,o]=i.useState(j),c=(d.interestType==="fixed"?3.1:3.3)/100/12,h=60,s=d.loanAmount*c*Math.pow(1+c,h)/(Math.pow(1+c,h)-1);return e.jsx("div",{className:"w-full max-w-[700px]",children:e.jsx(y,{product:b,selected:a,onToggle:()=>n(!a),condition:d,onConditionChange:o,estimatedMonthly:s,loanMonths:60})})}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  args: {
    product: sampleProduct,
    selected: false,
    onToggle: () => {},
    condition: defaultCondition,
    onConditionChange: () => {},
    estimatedMonthly: 0,
    loanMonths: 60
  }
}`,...p.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  args: {
    product: sampleProduct,
    selected: true,
    onToggle: () => {},
    condition: defaultCondition,
    onConditionChange: () => {},
    estimatedMonthly: 2221,
    loanMonths: 60
  }
}`,...u.parameters?.docs?.source}}};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [selected, setSelected] = useState(false);
    const [condition, setCondition] = useState<ProductCondition>(defaultCondition);
    const rate = condition.interestType === "fixed" ? 3.1 : 3.3;
    const r = rate / 100 / 12;
    const m = 60;
    const monthly = condition.loanAmount * r * Math.pow(1 + r, m) / (Math.pow(1 + r, m) - 1);
    return <div className="w-full max-w-[700px]">
        <ProductDisplayCard product={sampleProduct} selected={selected} onToggle={() => setSelected(!selected)} condition={condition} onConditionChange={setCondition} estimatedMonthly={monthly} loanMonths={60} />
      </div>;
  }
}`,...f.parameters?.docs?.source}}};const W=["Collapsed","Expanded","Interactive"];export{p as Collapsed,u as Expanded,f as Interactive,W as __namedExportsOrder,R as default};
